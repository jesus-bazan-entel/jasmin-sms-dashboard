{"ast":null,"code":"import React,{useState}from'react';import{Box,Paper,TextField,Button,Typography,Alert,InputAdornment,IconButton,Divider,Link,CircularProgress}from'@mui/material';import{Visibility,VisibilityOff,Email,Lock,Login as LoginIcon,Sms}from'@mui/icons-material';import{useAuth}from'../../contexts/AuthContext';import{Link as RouterLink}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const{login,loading,error}=useAuth();const[formData,setFormData]=useState({email:'',password:''});const[showPassword,setShowPassword]=useState(false);const[formErrors,setFormErrors]=useState({});const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Limpiar error del campo cuando el usuario empiece a escribir\nif(formErrors[name]){setFormErrors(prev=>({...prev,[name]:''}));}};const validateForm=()=>{const errors={};if(!formData.email){errors.email='El email es requerido';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){errors.email='El email no es válido';}if(!formData.password){errors.password='La contraseña es requerida';}else if(formData.password.length<6){errors.password='La contraseña debe tener al menos 6 caracteres';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}try{await login(formData);}catch(error){console.error('Error en login:',error);}};const handleTogglePassword=()=>{setShowPassword(!showPassword);};// Datos de demostración para testing\nconst demoCredentials=[{email:'admin@jasmin.com',password:'admin123',role:'Super Admin'},{email:'manager@jasmin.com',password:'manager123',role:'Manager'},{email:'operator@jasmin.com',password:'operator123',role:'Operator'}];const handleDemoLogin=credentials=>{setFormData({email:credentials.email,password:credentials.password});};return/*#__PURE__*/_jsx(Box,{sx:{minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',display:'flex',alignItems:'center',justifyContent:'center',padding:2},children:/*#__PURE__*/_jsxs(Paper,{elevation:24,sx:{p:4,maxWidth:450,width:'100%',borderRadius:3,background:'rgba(255, 255, 255, 0.95)',backdropFilter:'blur(10px)'},children:[/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Box,{sx:{display:'inline-flex',alignItems:'center',justifyContent:'center',width:80,height:80,borderRadius:'50%',background:'linear-gradient(45deg, #667eea 30%, #764ba2 90%)',mb:2},children:/*#__PURE__*/_jsx(Sms,{sx:{fontSize:40,color:'white'}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:\"bold\",color:\"primary\",gutterBottom:true,children:\"Jasmin SMS Dashboard\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Plataforma Empresarial de Marketing SMS\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,name:\"email\",label:\"Email\",type:\"email\",value:formData.email,onChange:handleChange,error:!!formErrors.email,helperText:formErrors.email,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Email,{color:\"action\"})})},sx:{mb:2},disabled:loading}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,name:\"password\",label:\"Contrase\\xF1a\",type:showPassword?'text':'password',value:formData.password,onChange:handleChange,error:!!formErrors.password,helperText:formErrors.password,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Lock,{color:\"action\"})}),endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleTogglePassword,edge:\"end\",disabled:loading,children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})},sx:{mb:3},disabled:loading}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",disabled:loading,startIcon:loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):/*#__PURE__*/_jsx(LoginIcon,{}),sx:{py:1.5,mb:2,background:'linear-gradient(45deg, #667eea 30%, #764ba2 90%)','&:hover':{background:'linear-gradient(45deg, #5a6fd8 30%, #6a4190 90%)'}},children:loading?'Iniciando Sesión...':'Iniciar Sesión'}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",mb:3,children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/forgot-password\",variant:\"body2\",sx:{textDecoration:'none'},children:\"\\xBFOlvidaste tu contrase\\xF1a?\"})}),/*#__PURE__*/_jsx(Divider,{sx:{mb:3},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"o\"})}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"\\xBFNo tienes una cuenta?\",' ',/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/register\",sx:{textDecoration:'none',fontWeight:'bold'},children:\"Reg\\xEDstrate aqu\\xED\"})]})})]}),/*#__PURE__*/_jsxs(Box,{mt:4,children:[/*#__PURE__*/_jsx(Divider,{sx:{mb:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Credenciales de Demostraci\\xF3n\"})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",flexDirection:\"column\",gap:1,children:demoCredentials.map((cred,index)=>/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",onClick:()=>handleDemoLogin(cred),disabled:loading,sx:{justifyContent:'flex-start',textTransform:'none',fontSize:'0.75rem'},children:/*#__PURE__*/_jsx(Box,{textAlign:\"left\",children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",display:\"block\",children:[cred.role,\": \",cred.email]})})},index))}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",display:\"block\",mt:1,children:\"Haz clic en cualquier credencial para autocompletar el formulario\"})]}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",mt:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Jasmin SMS Dashboard v2.0.0 - Enterprise Edition\"})})]})});};export default LoginPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}